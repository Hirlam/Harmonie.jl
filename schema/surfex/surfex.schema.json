{
  "type": "object",
  "options": {
    "disable_collapse": true,
    "disable_properties": true
  },
  "format" : "grid",
  "required": [
    "CISBA",
    "CSNOW",
    "CROUGH",
    "SURFEX_SEA_ICE",
    "SURFEX_OUTPUT_FORMAT",
    "NPATCH",
    "LISBA_CANOPY",
    "SURFEX_LAKES",
    "MODIFY_LAKES",
    "NAMELIST"
  ],
  "properties": {
    "CISBA": {
      "type": "string",
      "title": "ISBA scheme",
      "enum": [
        "3-L",
        "2-L",
        "DIF"
      ],
      "default": "3-L",
      "links" : [
        {
          "rel" : "ISBA documentation",
          "href" : "https://www.umr-cnrm.fr/isbadoc/model.html"
        }
      ]
    },
    "test" : {}, 
    "CSNOW": {
      "type": "string",
      "title": "Snow Scheme",
      "enum": [
        "D95",
        "3-L"
      ],
      "default": "3-L"
    },
    "CROUGH": {
      "type": "string",
      "title": "type of orographic roughness length",
      "links": [
        {
         "rel": "CROUGH Surfex documentation",
         "href": "http://www.umr-cnrm.fr/surfex/spip.php?article126"
        }
      ],
      "enum": [
        "NONE",
        "Z01D",
        "BE04"
      ],
      "options" : {
        "enum_titles" : [ 
            "NONE | no orographic treatment",
            "Z01D | orographic roughness length does not depend on wind direction",
            "BE04 | Beljaars 2004 orographic drag"
        ]
      },
      "default": "NONE"
    },
    "SURFEX_SEA_ICE": {
      "type": "string",
      "enum": [
        "none",
        "sice"
      ],
      "default": "none"
    },
    "SURFEX_OUTPUT_FORMAT": {
      "type": "string",
      "enum": [
        "fa",
        "lfi"
      ],
      "default": "fa"
    },
    "NPATCH": {
      "type": "integer",
      "title": "Number of patches over land",
      "description" : "see also LISBA_CANOPY",
      "enum": [
        1,
        2
      ],
      "default": 1
    },
    "LISBA_CANOPY": {
      "type": "string",
      "description": "Activate surface boundary multi layer scheme over land. Must be .FALSE. for NPATCHES>1",
      "enum": [
        ".TRUE.",
        ".FALSE."
      ],
      "default": ".TRUE."
    },
    "SURFEX_LAKES": {
      "type": "string",
      "title": "Treatment of lakes in surfex",
      "enum": [
        "WATFLX",
        "FLAKE"
      ],
      "default": "WATFLX"
    },
    "MODIFY_LAKES": {
      "type": "string",
      "title": "Use Vanern/Vattern as Sea", 
      "description" : "requires new climate files",
      "enum": [
        "F",
        "T"
      ],
      "default": "F"
    },
    "NAMELIST" : { 
       "$ref" : "namelist/surfex_namelist.schema.json"
    }
  },

  "links": [
    {
      "rel": "Surfex documentation",
      "href": "https://www.umr-cnrm.fr/surfex/"
    }
  ]
}
